{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Satisfaction Survey</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-image: url("{% static 'pictures/Background.svg' %}");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
  </style>
</head>
<body class="m-0 p-0 font-sans min-h-screen flex flex-col">
    <div>
        <img src="{% static 'pictures/header-logo.svg' %}" alt="Logo" class="h-16 m-4">
    </div>

  <!-- Main -->
  <main class="flex-1 flex justify-center items-start px-4 py-12">
    <div class="bg-white/95 rounded-2xl p-6 md:p-8 shadow-xl w-full max-w-3xl backdrop-blur-sm">

      <!-- Intro -->
      <div class="bg-gray-100/90 p-4 md:p-6 mb-8 border-l-[5px] border-[#164F29]">
        <h3 data-editable="intro-title" class="text-[#164F29] font-bold text-lg mb-4">
          Client Satisfaction Measurement (CSM)
        </h3>
        <p data-editable="intro-desc1" class="text-gray-800 leading-relaxed mb-2">
          The Client Satisfaction Measurement (CSM) tracks the customer experience of government offices. 
          Your feedback on your <strong data-editable="transaction-type">recently concluded transaction</strong> will help this office provide a better service.
        </p>
        <p data-editable="intro-desc2" class="text-gray-800 leading-relaxed">
          Personal information shared will be kept confidential and you always have the option to not answer this form.
        </p>
      </div>

      <!-- Form -->
      <form id="satisfactionSurvey" method="POST" action="{% url 'page1' %}" class="space-y-6">
      {% csrf_token %}

      <!-- Row 1 -->
      <div class="grid md:grid-cols-3 gap-4">
        <div class="flex flex-col">
          <label for="clientType" class="font-semibold text-gray-700 mb-2">Client type:</label>
          <select id="clientType" name="clientType" required 
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
            <option value="">Select client type</option>
            <option value="student_applicant" {% if form_data.clientType == "student_applicant" %}selected{% endif %}>Student Applicant</option>
            <option value="citizen" {% if form_data.clientType == "citizen" %}selected{% endif %}>Citizen (Student/Parents/Alumni)</option>
            <option value="business" {% if form_data.clientType == "business" %}selected{% endif %}>Business</option>
          </select>
        </div>

        <div class="flex flex-col">
          <label for="government" class="font-semibold text-gray-700 mb-2">Government:</label>
          <select id="government" name="government" required
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
            <option value="">Select Government</option>
            <option value="employee" {% if form_data.government == "employee" %}selected{% endif %}>Employee</option>
            <option value="other_agency" {% if form_data.government == "other_agency" %}selected{% endif %}>Other Agency</option>
          </select>
        </div>

        <div class="flex flex-col">
          <label for="visitDate" class="font-semibold text-gray-700 mb-2">Date:</label>
          <input type="date" id="visitDate" name="visitDate" required
            value="{{ form_data.visitDate|default:'' }}"
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
        </div>
      </div>

      <!-- Row 2 -->
      <div class="grid md:grid-cols-2 gap-4">
        <div class="flex flex-col">
          <label for="sex" class="font-semibold text-gray-700 mb-2">Sex:</label>
          <select id="sex" name="sex" required
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
            <option value="">Select sex</option>
            <option value="male" {% if form_data.sex == "male" %}selected{% endif %}>Male</option>
            <option value="female" {% if form_data.sex == "female" %}selected{% endif %}>Female</option>
            <option value="prefer-not-to-say" {% if form_data.sex == "prefer-not-to-say" %}selected{% endif %}>Others</option>
          </select>
        </div>

        <div class="flex flex-col">
          <label for="age" class="font-semibold text-gray-700 mb-2">Age:</label>
          <input type="number" id="age" name="age" min="1" max="120" placeholder="Enter age" required
            value="{{ form_data.age|default:'' }}"
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
        </div>
      </div>

      <!-- Row 3 -->
      <div class="grid md:grid-cols-2 gap-4">
        <div class="flex flex-col">
          <label for="region" class="font-semibold text-gray-700 mb-2">Region of Residence:</label>
          <input type="text" id="region" name="region" placeholder="Enter your region" required
            value="{{ form_data.region|default:'' }}"
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
        </div>

        <div class="flex flex-col">
          <label for="officePerson" class="font-semibold text-gray-700 mb-2">Office Person Visited:</label>
          <input type="text" id="officePerson" name="officePerson" placeholder="Enter office/person visited" required
            value="{{ form_data.officePerson|default:'' }}"
            class="p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">
        </div>
      </div>

      <!-- Row 4 -->
      <div>
        <label for="serviceAvailed" class="font-semibold text-gray-700 mb-2">Service Availed:</label>
        <textarea id="serviceAvailed" name="serviceAvailed" rows="3" required
          class="w-full p-3 border-2 border-gray-300 focus:border-[#164F29] focus:ring-2 focus:ring-[#164F29]/20">{{ form_data.serviceAvailed|default:'' }}</textarea>
      </div>

      <!-- Submit -->
      <div class="text-center">
        <button type="submit" 
          class="bg-[#10934F] hover:bg-[#5a9935] text-white font-bold text-lg h-14 w-40 transition transform hover:-translate-y-1">
          NEXT
        </button>
      </div>
    </form>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-[#10934F]/90 h-[50px] mt-auto"></footer>

</body>
</html>
